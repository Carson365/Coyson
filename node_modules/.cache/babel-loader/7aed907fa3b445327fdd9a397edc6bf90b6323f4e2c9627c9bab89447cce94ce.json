{"ast":null,"code":"var _jsxFileName = \"/Users/coycrowder/MIS 321/321Project/Coyson/src/Pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { login } from '../AuthenticateHelper';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthenticateUser } from '../Api.js';\nimport { useUser } from '../UserContext.js';\nimport { auth, googleProvider, facebookProvider } from '../FireBase.js';\nimport { signInWithPopup } from 'firebase/auth';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const {\n    setUser\n  } = useUser();\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const user = await login(email, password);\n      AuthenticateUser(user.user.accessToken, setUser);\n      navigate(-1);\n    } catch (error) {\n      setError('Login failed. Please check your email and password.');\n      console.error('Login failed:', error.message);\n    }\n  };\n  const handleGoogleLogin = async () => {\n    try {\n      const result = await signInWithPopup(auth, googleProvider);\n      const user = result.user;\n      console.log(user.email);\n      AuthenticateUser(user.accessToken, setUser, user.photoURL) ? console.log('true') : console.log('false');\n      navigate(-1);\n    } catch (error) {\n      console.error('Google login failed:', error.message);\n      setError('Google login failed. Please try again.');\n    }\n  };\n  const handleMicrosoftLogin = async () => {\n    try {\n      const result = await signInWithPopup(auth, microsoftProvider);\n      const user = result.user;\n      const token = await user.getIdToken();\n      console.log('Microsoft login successful:', user);\n      // You can grab the email here: user.email\n    } catch (error) {\n      console.error('Microsoft login failed:', error.message);\n    }\n  };\n  useEffect(() => {\n    document.body.classList.add('login-page-body');\n    return () => document.body.classList.remove('login-page-body');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title\",\n          children: \"Log in with\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"social-login\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"google\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: handleGoogleLogin,\n                children: \"Google\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"fb\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: handleFacebookLogin,\n                children: \"Facebook\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"_or\",\n          children: \"or\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"the-form\",\n          onSubmit: handleLogin,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            id: \"email\",\n            placeholder: \"Enter your email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            id: \"password\",\n            placeholder: \"Enter your password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red',\n            marginTop: '10px'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Don't have an account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"vtAVG07Fs6pqQDKK5fzrVbEjCF4=\", false, function () {\n  return [useNavigate, useUser];\n});\n_c = Login;\n;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","login","useNavigate","AuthenticateUser","useUser","auth","googleProvider","facebookProvider","signInWithPopup","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","error","setError","navigate","setUser","handleLogin","e","preventDefault","user","accessToken","console","message","handleGoogleLogin","result","log","photoURL","handleMicrosoftLogin","microsoftProvider","token","getIdToken","document","body","classList","add","remove","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","onClick","handleFacebookLogin","onSubmit","htmlFor","type","name","id","placeholder","value","onChange","target","style","color","marginTop","_c","$RefreshReg$"],"sources":["/Users/coycrowder/MIS 321/321Project/Coyson/src/Pages/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { login } from '../AuthenticateHelper'; \nimport { useNavigate } from 'react-router-dom';\nimport { AuthenticateUser } from '../Api.js';\nimport { useUser } from '../UserContext.js';\nimport { auth, googleProvider, facebookProvider } from '../FireBase.js'; \nimport { signInWithPopup } from 'firebase/auth';\nimport './Login.css';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(''); \n  const navigate = useNavigate();\n  const { setUser } = useUser();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      const user = await login(email, password);\n      AuthenticateUser(user.user.accessToken, setUser);\n      navigate(-1);\n    } catch (error) {\n      setError('Login failed. Please check your email and password.');\n      console.error('Login failed:', error.message);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    try {\n      const result = await signInWithPopup(auth, googleProvider);\n      const user = result.user;\n  \n      console.log(user.email);\n      AuthenticateUser(user.accessToken, setUser, user.photoURL) ? console.log('true') : console.log('false')\n      navigate(-1); \n    } catch (error) {\n      console.error('Google login failed:', error.message);\n      setError('Google login failed. Please try again.');\n    }\n  };\n  \n\n  \nconst handleMicrosoftLogin = async () => {\n  try {\n    const result = await signInWithPopup(auth, microsoftProvider);\n    const user = result.user;\n    const token = await user.getIdToken();\n    console.log('Microsoft login successful:', user);\n    // You can grab the email here: user.email\n  } catch (error) {\n    console.error('Microsoft login failed:', error.message);\n  }\n};\n\n  useEffect(() => {\n    document.body.classList.add('login-page-body');\n    return () => document.body.classList.remove('login-page-body');\n  }, []);\n\n  return (\n    <div className=\"main-container\">\n      <div className=\"form-container\">\n        <div className=\"form-body\">\n          <h2 className=\"title\">Log in with</h2>\n\n          <div className=\"social-login\">\n            <ul>\n              <li className=\"google\">\n                <a href=\"#\" onClick={handleGoogleLogin}>Google</a>\n              </li>\n              <li className=\"fb\">\n                <a href=\"#\" onClick={handleFacebookLogin}>Facebook</a>\n              </li>\n            </ul>\n          </div>\n\n          <div className=\"_or\">or</div>\n\n          <form className=\"the-form\" onSubmit={handleLogin}>\n            <label htmlFor=\"email\">Email</label>\n            <input \n              type=\"email\" \n              name=\"email\" \n              id=\"email\" \n              placeholder=\"Enter your email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n\n            <label htmlFor=\"password\">Password</label>\n            <input \n              type=\"password\" \n              name=\"password\" \n              id=\"password\" \n              placeholder=\"Enter your password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n\n            <input type=\"submit\" value=\"Log In\" />\n          </form>\n\n          {error && <p style={{ color: 'red', marginTop: '10px' }}>{error}</p>}\n        </div>\n\n        <div className=\"form-footer\">\n          <div>\n            <span>Don't have an account?</span> <a href=\"#\">Sign Up</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}